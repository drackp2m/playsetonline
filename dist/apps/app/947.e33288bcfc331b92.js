"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[947],{3947:(M,g,h)=>{h.r(g),h.d(g,{default:()=>S});var u=h(6814),m=h(5417),i=(()=>((i=i||{})[i.solid=1]="solid",i[i.striped=2]="striped",i[i.outlined=3]="outlined",i))(),o=(()=>((o=o||{})[o.red=1]="red",o[o.purple=2]="purple",o[o.green=3]="green",o))(),d=(()=>((d=d||{})[d.oval=1]="oval",d[d.squiggle=2]="squiggle",d[d.diamond=3]="diamond",d))(),t=h(4946),p=h(9405);function C(n,l){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"set-card",5),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.selectCard(a))}),t.qZA(),t.BQk()}if(2&n){const e=l.$implicit,s=t.oxw();t.xp6(1),t.Q6J("shape",e.shape)("color",e.color)("shading",e.shading)("count",e.number)("selected",s.isSelected(e))("highlighted",s.showSets&&s.imInSet(e))}}const f=[{path:"",component:(()=>{class n{constructor(){this.shapes=["oval","squiggle","diamond"],this.colors=["red","purple","green"],this.shadings=["solid","striped","outlined"],this.counts=[1,2,3],this.boardCards=[],this.sets=[],this.cardsInSets=[],this.selectedCards=[],this.wrongSetsCount=0,this.showSets=!1,this.message=""}ngOnInit(){for(let e=0;e<12;e++)this.boardCards.push(this.getValidCard());this.checkIfSetExists()}isSelected(e){return this.selectedCards.includes(e)}selectCard(e){this.selectedCards.includes(e)?this.selectedCards=this.selectedCards.filter(s=>s!==e):this.selectedCards.push(e),this.checkSet()}imInSet(e){return this.cardsInSets.includes(e)}checkIfSetExists(){const e=this.boardCards;this.cardsInSets=[];for(let s=0;s<e.length-2;s++)for(let r=s+1;r<e.length-1;r++)for(let a=r+1;a<e.length;a++)this.isSet(e[s],e[r],e[a])&&(this.cardsInSets=[e[s],e[r],e[a]]);this.sets.length+this.boardCards.length===81&&0===this.cardsInSets.length&&this.showMessages("You won!")}addExtraCards(){if(this.boardCards.length>=15)this.showMessages("You can only add extra cards once per game!");else if(this.cardsInSets.length>0)this.showMessages("Yes there is, keep looking.");else{for(let e=0;e<3;e++)this.boardCards.push(this.getValidCard());this.checkIfSetExists()}}toggleShowSets(){this.showSets=!this.showSets}getValidCard(){const e=[...this.boardCards,...this.sets];let s=this.generateCard();for(;e.find(r=>r.id===s.id);)s=this.generateCard();return s}generateCard(){const e=this.getRandomShape(),s=this.getRandomColor(),r=this.getRandomShading(),a=this.getRandomNumber();return{id:`${i[r]}${o[s]}${d[e]}${a}`,shape:e,color:s,shading:r,number:a}}getRandomShape(){return this.shapes[Math.floor(Math.random()*this.shapes.length)]}getRandomColor(){return this.colors[Math.floor(Math.random()*this.colors.length)]}getRandomShading(){return this.shadings[Math.floor(Math.random()*this.shadings.length)]}getRandomNumber(){return this.counts[Math.floor(Math.random()*this.counts.length)]}checkSet(){if(3!==this.selectedCards.length)return;const[e,s,r]=this.selectedCards;if(this.isSet(e,s,r)){this.sets.push(...this.selectedCards);const a=this.boardCards.length>12||this.sets.length+this.boardCards.length>81;return this.selectedCards.forEach(c=>{const b=a?null:this.getValidCard();this.replaceCard(c,b)}),this.selectedCards=[],void this.checkIfSetExists()}this.wrongSetsCount++,this.selectedCards=[]}isSet(e,s,r){return this.isSameOrDifferent(e.shape,s.shape,r.shape)&&this.isSameOrDifferent(e.color,s.color,r.color)&&this.isSameOrDifferent(e.shading,s.shading,r.shading)&&this.isSameOrDifferent(e.number,s.number,r.number)}isSameOrDifferent(e,s,r){return e===s&&s===r||e!==s&&s!==r&&e!==r}replaceCard(e,s){this.boardCards=this.boardCards.map(r=>r.id===e.id?s:r).filter(r=>null!==r)}showMessages(e){this.message=e,setTimeout(()=>{this.message=""},100*e.length)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],decls:15,vars:6,consts:[["id","typograpy",1,"content-fixed","pt-lg","pb-xxl"],[1,"flex-row","gap-lg","align-center"],[1,"p-sm","surface-vivid","round-md",3,"click"],["id","card-game",1,"mt-xl"],[4,"ngFor","ngForOf"],[3,"shape","color","shading","count","selected","highlighted","click"]],template:function(e,s){1&e&&(t.TgZ(0,"main",0)(1,"p",1)(2,"span"),t._uU(3),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.qZA(),t.TgZ(6,"span"),t._uU(7),t.qZA(),t.TgZ(8,"button",2),t.NdJ("click",function(){return s.addExtraCards()}),t._uU(9,"No sets"),t.qZA(),t.TgZ(10,"button",2),t.NdJ("click",function(){return s.toggleShowSets()}),t._uU(11),t.qZA(),t._uU(12),t.qZA(),t.TgZ(13,"section",3),t.YNc(14,C,2,6,"ng-container",4),t.qZA()()),2&e&&(t.xp6(3),t.hij("Sets: ",s.sets.length/3,""),t.xp6(2),t.hij("Wrong: ",s.wrongSetsCount,""),t.xp6(2),t.hij("Card in deck: ",81-(s.boardCards.length+s.sets.length),""),t.xp6(4),t.hij(" ",s.showSets?"Disable cheats":"Enable cheats"," "),t.xp6(1),t.hij(" ",s.message," "),t.xp6(2),t.Q6J("ngForOf",s.boardCards))},dependencies:[u.sg,p.A],styles:["main[_ngcontent-%COMP%]{min-height:100%;background-color:#ffffffe6}main[_ngcontent-%COMP%]   #card-game[_ngcontent-%COMP%]{display:grid;grid-gap:var(--spacing-md);grid-template-columns:repeat(4,1fr);padding:0 150px}"]}),n})()}];let S=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[u.ez,m.Bz.forChild(f)]}),n})()}}]);