<div id="main-layout" class="flex-col">
	<section id="header" class="content-fixed flex-col py-md">
		<div class="background">
			<app-card-shape [shape]="shape.SQUIGGLE" [color]="color.GREEN" [shading]="shading.STRIPED" />
			<app-card-shape [shape]="shape.DIAMOND" [color]="color.RED" [shading]="shading.SOLID" />
			<app-card-shape [shape]="shape.OVAL" [color]="color.PURPLE" [shading]="shading.OUTLINED" />
			<app-card-shape [shape]="shape.OVAL" [color]="color.RED" [shading]="shading.STRIPED" />
			<app-card-shape
				[shape]="shape.SQUIGGLE"
				[color]="color.PURPLE"
				[shading]="shading.OUTLINED"
			/>
			<app-card-shape [shape]="shape.DIAMOND" [color]="color.GREEN" [shading]="shading.STRIPED" />
			<app-card-shape [shape]="shape.DIAMOND" [color]="color.PURPLE" [shading]="shading.SOLID" />
			<app-card-shape [shape]="shape.SQUIGGLE" [color]="color.RED" [shading]="shading.OUTLINED" />
			<app-card-shape [shape]="shape.SQUIGGLE" [color]="color.GREEN" [shading]="shading.SOLID" />
			<app-card-shape [shape]="shape.OVAL" [color]="color.PURPLE" [shading]="shading.SOLID" />
			<app-card-shape [shape]="shape.SQUIGGLE" [color]="color.GREEN" [shading]="shading.STRIPED" />
			<app-card-shape [shape]="shape.DIAMOND" [color]="color.RED" [shading]="shading.OUTLINED" />
			<app-card-shape [shape]="shape.OVAL" [color]="color.RED" [shading]="shading.SOLID" />
			<app-card-shape [shape]="shape.DIAMOND" [color]="color.PURPLE" [shading]="shading.OUTLINED" />
			<app-card-shape [shape]="shape.DIAMOND" [color]="color.PURPLE" [shading]="shading.STRIPED" />
			<app-card-shape [shape]="shape.SQUIGGLE" [color]="color.RED" [shading]="shading.OUTLINED" />
			<app-card-shape [shape]="shape.DIAMOND" [color]="color.GREEN" [shading]="shading.STRIPED" />
			<app-card-shape [shape]="shape.OVAL" [color]="color.GREEN" [shading]="shading.SOLID" />
			<app-card-shape [shape]="shape.SQUIGGLE" [color]="color.PURPLE" [shading]="shading.STRIPED" />
			<app-card-shape [shape]="shape.DIAMOND" [color]="color.GREEN" [shading]="shading.OUTLINED" />
			<app-card-shape [shape]="shape.OVAL" [color]="color.GREEN" [shading]="shading.OUTLINED" />
			<app-card-shape [shape]="shape.SQUIGGLE" [color]="color.RED" [shading]="shading.SOLID" />
			<app-card-shape [shape]="shape.OVAL" [color]="color.PURPLE" [shading]="shading.STRIPED" />
			<app-card-shape [shape]="shape.DIAMOND" [color]="color.RED" [shading]="shading.STRIPED" />
		</div>

		<nav class="flex-row flex-wrap justify-center gap-sm my-md">
			<app-media-debug />

			<ng-container *ngTemplateOutlet="button; context: { text: 'Register', link: '/register' }" />

			<ng-container *ngTemplateOutlet="button; context: { text: 'Login', link: '/login' }" />

			<ng-container
				*ngTemplateOutlet="
					button;
					context: { text: 'Logout', link: 'logout', click: logout(), surface: 'radiant' }
				"
			/>

			<ng-container *ngTemplateOutlet="button; context: { text: 'Home', link: '/home' }" />

			<ng-container *ngTemplateOutlet="button; context: { text: 'Example', link: '/example' }" />

			<ng-container *ngTemplateOutlet="button; context: { text: 'Game', link: '/game' }" />

			<ng-container *ngTemplateOutlet="button; context: { text: 'Online', link: '/online' }" />
		</nav>

		<ng-template #button let-text="text" let-link="link" let-click="click" let-surface="surface">
			<a
				routerLinkActive
				#active="routerLinkActive"
				class="round-sm p-xs px-sm"
				[class]="active.isActive ? 'weight-xxl surface-serene' : 'surface-' + (surface || 'vivid')"
				[routerLink]="link"
				(click)="click && click()"
				>{{ text }}
			</a>
		</ng-template>

		<p class="flex-row justify-between text-sm">
			<span>{{ getPings()?.[0]?.ping?.average?.value }}</span>

			@if (user()) {
				<p>Welcome {{ user()?.username }}</p>
			}
			@if (userError()) {
				<p>GetUserInfo error: {{ userError()?.message }}</p>
			}
		</p>
	</section>

	<div class="scroll">
		<router-outlet />
	</div>
</div>
